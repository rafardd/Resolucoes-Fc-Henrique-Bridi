função trocaElementos(s: string; p: inteiro): lógico
var
  numAtual, numP, numPMais1: real
  posição, total : inteiro
  trocou : lógico
  f : sequência de real
início
  se abre(f, s) então
    total <- 0
    enquanto não fds(f) faça
      total <- total + 1
      leia(f, numAtual)
      se total = p então
        numP = numAtual
      fimse
      se total = p + 1 então
        numPMais1 = numAtual
      fimse
    fimenquanto
    fecha(f)
    se total >= p + 1 então
      se abre(f, s) então
        posição <- 1
        trocou <- FALSO
        enquanto não fds(f) e não trocou faça
          se posição = p então
            escreva(f, numPMais1)
            leia(f, numAtual)
            escreva(f, numP)
            trocou <- VERDADEIRO
          senão
            leia(f, numAtual)
            posição <- posição + 1
          fimse
        fimenquanto
        fecha(f)
        retorne VERDADEIRO
      senão
        retorne FALSO
      fimse
    senão
      retorne FALSO
    fimse
  senão
    retorne FALSO
  fimse
fimfunção

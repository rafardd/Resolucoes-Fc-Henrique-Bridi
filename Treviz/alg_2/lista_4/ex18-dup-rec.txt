TIPOS
    PNo = PONTEIRO PARA TNo
    TNo = 
        REGISTRO
            info : real
            prox : PNo
            prev : PNo
        FIM REGISTRO

FUNÇÃO insere_em_p(REF l:PNo ; x:real ; p:inteiro):lógica
VAR
    novo : PNo
INICIO
    SE p <= 0 ENTAO
        RETORNE falso
    FIM SE
    SE p = 1 ENTAO
        novo <- aloca(TNo)
        SE novo = NULO ENTAO
            RETORNE falso
        FIM SE
        novo^.info <- x
        novo^.prox <- l
        SE l = NULO ENTAO
            novo^.prev = NULO
        SENAO
            novo^.prev = l^.prev
            l^.prev <- novo     \\ o prox (l^.prev) só aponta para novo se l nao for nulo
        FIM SE
        l <- novo
        RETORNE verdadeiro
    FIM SE
    SE l = NULO ENTAO
        RETORNE falso
    FIM SE
    RETORNE insere_em_p(l^.prox, x, p - 1)
FIM FUNÇÃO